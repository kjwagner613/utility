<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
  <title>Klamath Falls Apts Available</title>
</head>
<body>
  <!-- Background element (image.png in images/) -->
  <div class="page-bg" aria-hidden="true"></div>

  <header class="site-header">
    <div class="header-inner">
      <div class="brand">
        <!-- If you don't want the .ico shown, remove the <img> -->
        <img class="logo" src="images/KJW-logo-castle-1024-colorCorrected-wMatt.ico" alt="KJW logo" />
      </div>
      <div class="heading">
        <h1>Klamath Falls Apartments</h1>
        <p class="lead">Comfortable rentals in Klamath Falls, Oregon — updated photos below.</p>
        <p><a class="map-link" href="https://www.google.com/maps/place/Klamath+Falls,+OR" target="_blank" rel="noopener noreferrer">View Klamath Falls on Google Maps</a></p>
      </div>
    </div>
  </header>

  <main class="container" id="main">
    <section class="gallery" aria-label="Apartment photos">
      <figure>
        <h3>3 Bedroom — $1,900</h3>
        <img src="images/3br-1900 (1).jpg" alt="3 bedroom apartment - view 1">
      </figure>

      <figure>
        <h3>3 Bedroom — Living Room</h3>
        <img src="images/3br-1900 (2).jpg" alt="3 bedroom apartment - living room">
      </figure>

      <figure>
        <h3>3 Bedroom — Kitchen</h3>
        <img src="images/3br-1900 (3).jpg" alt="3 bedroom apartment - kitchen">
      </figure>

      <figure>
        <h3>3 Bedroom — Bedroom</h3>
        <img src="images/3br-1900 (4).jpg" alt="3 bedroom apartment - bedroom">
      </figure>

      <figure>
        <h3>3 Bedroom — Bathroom</h3>
        <img src="images/3br-1900 (5).jpg" alt="3 bedroom apartment - bathroom">
      </figure>

      <!-- E3 group -->
      <figure>
        <h3>E3 — Bathroom</h3>
        <img src="images/E3 bathroom_5270b_400x600.jpg" alt="E3 bathroom">
      </figure>

      <figure>
        <h3>E3 — Bedroom</h3>
        <img src="images/E3 BEDROOM_5288b_800x533.jpg" alt="E3 bedroom">
      </figure>

      <figure>
        <h3>E3 — Living Room</h3>
        <img src="images/E3 lvroom_5284b_800x533.jpg" alt="E3 living room">
      </figure>

      <figure>
        <h3>E3 — Kitchen</h3>
        <img src="images/E3_kitchen_5280b_640x427.jpg" alt="E3 kitchen">
      </figure>

      <!-- KI images -->
      <figure>
        <h3>KI 021</h3>
        <img src="images/KI 021_1067x800.JPG" alt="KI 021">
      </figure>
      <figure>
        <h3>KI 022</h3>
        <img src="images/KI 022_1067x800.JPG" alt="KI 022">
      </figure>
      <figure>
        <h3>KI 023</h3>
        <img src="images/KI 023_1067x800.JPG" alt="KI 023">
      </figure>
      <figure>
        <h3>KI 024</h3>
        <img src="images/KI 024_1067x800.JPG" alt="KI 024">
      </figure>
      <figure>
        <h3>KI 025</h3>
        <img src="images/KI 025_1067x800.JPG" alt="KI 025">
      </figure>
      <figure>
        <h3>KI 027</h3>
        <img src="images/KI 027_1067x800.JPG" alt="KI 027">
      </figure>
      <figure>
        <h3>KI 028</h3>
        <img src="images/KI 028_1067x800.JPG" alt="KI 028">
      </figure>
      <figure>
        <h3>KI 029</h3>
        <img src="images/KI 029_600x800.JPG" alt="KI 029">
      </figure>
      <figure>
        <h3>KI 030</h3>
        <img src="images/KI 030_1067x800.JPG" alt="KI 030">
      </figure>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>For other quick projects: <a href="mailto:kevin@discrete-dev.com">kevin@discrete-dev.com</a></p>
    </div>
  </footer>
  <script>
(function(){
  function createLightbox(src, alt, naturalWidth){
    const overlay = document.createElement('div');
    overlay.className = 'lightbox-overlay';
    overlay.tabIndex = -1;

    const card = document.createElement('div');
    card.className = 'lightbox-card';

    const img = document.createElement('img');
    img.src = src;
    img.alt = alt || '';

    card.appendChild(img);
    overlay.appendChild(card);
    document.body.appendChild(overlay);

    // compute desired width: double naturalWidth but no larger than 90% viewport
    // if naturalWidth not available, fallback to 800
    const nW = naturalWidth || img.naturalWidth || 800;
    const desiredW = Math.min(nW * 2, Math.floor(window.innerWidth * 0.9));
    img.style.width = desiredW + 'px';
    img.style.height = 'auto';

    // close when clicking outside the card
    overlay.addEventListener('click', (e) => {
      if (e.target === overlay) overlay.remove();
    });

    // close on Escape key
    function onKey(e){
      if (e.key === 'Escape') {
        overlay.remove();
        document.removeEventListener('keydown', onKey);
      }
    }
    document.addEventListener('keydown', onKey);
  }

  // attach to all images inside .gallery
  document.querySelectorAll('.gallery img').forEach(img => {
    img.style.cursor = 'zoom-in';
    img.addEventListener('click', function () {
      // pass naturalWidth if available (helps size calculation)
      createLightbox(this.src, this.alt, this.naturalWidth);
    });
  });
})();
</script>
</body>
</html>